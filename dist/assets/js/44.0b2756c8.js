(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{697:function(e,t,r){"use strict";r.r(t);var s=r(16),o=Object(s.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"_2-1-使用快捷脚本安装"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-使用快捷脚本安装"}},[e._v("#")]),e._v(" 2.1 使用快捷脚本安装")]),e._v(" "),r("p",[e._v("Docker在"),r("a",{attrs:{href:"https://get.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("get.docker.com"),r("OutboundLink")],1),e._v("和"),r("a",{attrs:{href:"https://test.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("test.docker.com"),r("OutboundLink")],1),e._v("上提供了快捷脚本，用于快速，非交互地将Docker CE的边缘和测试版本安装到开发环境中。脚本的源代码位于"),r("code",[e._v("docker-install")]),e._v("存储库中。"),r("strong",[e._v("建议不要在生产环境中使用这些脚本")]),e._v("，在使用它们之前，您应该了解潜在的风险：")]),e._v(" "),r("ul",[r("li",[e._v("脚本需要"),r("code",[e._v("root")]),e._v("或"),r("code",[e._v("sudo")]),e._v("权限才能运行。因此，在运行脚本之前，应仔细检查和审核脚本。")]),e._v(" "),r("li",[e._v("这些脚本会尝试检测您的Linux发行版和版本，并为您配置包管理系统。此外，脚本不允许您自定义任何安装参数。从Docker的角度或您自己组织的指导方针和标准来看，这可能会导致配置不受支持。")]),e._v(" "),r("li",[e._v("脚本安装包管理器的所有依赖项和建议，而不要求确认。这可能会安装大量软件包，具体取决于主机的当前配置。")]),e._v(" "),r("li",[e._v("该脚本不提供选项来指定要安装的Docker版本，并安装在“边缘”通道中发布的最新版本。")]),e._v(" "),r("li",[e._v("如果已使用其他机制在主机上安装了Docker，请不要使用快捷脚本。")])]),e._v(" "),r("p",[e._v("此示例使用"),r("a",{attrs:{href:"https://get.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("get.docker.com"),r("OutboundLink")],1),e._v("上的脚本在Linux上安装最新版本的Docker CE。要安装最新的测试版本，请改用"),r("a",{attrs:{href:"https://test.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("test.docker.com"),r("OutboundLink")],1),e._v("。在下面的每个命令中，将每次出现的"),r("code",[e._v("get")]),e._v("替换为"),r("code",[e._v("test")]),e._v("。")]),e._v(" "),r("blockquote",[r("p",[e._v("警告：始终检查从Internet下载的脚本，然后在本地运行它们。")])]),e._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[e._v("$ "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -fsSL https://get.docker.com -o get-docker.sh\n$ "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("sh")]),e._v(" get-docker.sh\n\n"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("output truncated"),r("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br")])]),r("p",[e._v("如果您想将Docker用作非root用户，您现在应该考虑将您的用户添加到“docker”组，例如：")]),e._v(" "),r("div",{staticClass:"language-shell line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-shell"}},[r("code",[r("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("usermod")]),e._v(" -aG "),r("span",{pre:!0,attrs:{class:"token function"}},[e._v("docker")]),e._v(" your-user\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br")])]),r("p",[e._v("请记得注销并重新登录才能生效！")]),e._v(" "),r("blockquote",[r("p",[e._v("警告：将用户添加到“docker”组会授予他们运行容器的能力，这些容器可用于获取Docker主机上的root权限。 有关更多信息，请参阅"),r("a",{attrs:{href:"https://docs.docker.com/engine/security/security/#docker-daemon-attack-surface",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker守护程序攻击面"),r("OutboundLink")],1),e._v("。")])]),e._v(" "),r("p",[e._v("Docker CE安装后。 它在基于"),r("code",[e._v("DEB")]),e._v("的发行版上自动启动。 在基于"),r("code",[e._v("RPM")]),e._v("的分发中，您需要使用适当的"),r("code",[e._v("systemctl")]),e._v("或"),r("code",[e._v("service")]),e._v("命令手动启动它。 如消息所示，非root用户默认情况下无法运行Docker命令。")]),e._v(" "),r("p",[r("strong",[e._v("升级")])]),e._v(" "),r("p",[e._v("如果您使用快捷脚本安装了Docker，则应直接使用软件包管理器升级Docker。 重新运行快捷脚本没有任何好处，如果它尝试重新添加已添加到主机的存储库，则可能会导致问题。")])])}),[],!1,null,null,null);t.default=o.exports}}]);